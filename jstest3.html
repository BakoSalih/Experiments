<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hello World</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
</head>
<body>


<button onclick="myFunction()">Try it</button>

<script type="text/javascript">

let type = "WebGL"
if(!PIXI.utils.isWebGLSupported()){
  type = "canvas"
}
//Create a Pixi Application
let app = new PIXI.Application({
  width: 500,
  height: 500,
  antialias: true,
  transparent: true,
  resolution: 1 //,
  //view: document.getElementById('row')
}
);

//Add the canvas that Pixi automatically created for you to the HTML document
document.body.appendChild(app.view);

/*
//load an image and run the `setup` function when it's done
const loader = new PIXI.Loader();
loader
.add("images/tri.png")
.add("images/tri2.png")
.add("images/hex2.png")
.load(setup);
*/


//This `setup` function will run when the image has loaded
function setup(n) {
	let container = new PIXI.Container();
	app.stage.addChild(container);

	const x0 = 20;
	const y0 = 20;
	//let n = 5;
	let m = 5;
	
	// Move container to the center
	container.x = app.screen.width / 2;
	container.y = app.screen.height / 2;

	// Center bunny sprite in local container coordinates
	container.pivot.x = container.width / 2;
	container.pivot.y = container.height / 2;
	
	for (i = -n; i <= n; i++) {
	  for (j = -m; j <= m; j++) {
		let vertex = new PIXI.Graphics();
		const xcord = x0*j;
		const ycord = y0*i;
		vertex.beginFill(0x000000);
		vertex.drawCircle(xcord , ycord, 1);
		vertex.endFill();
		container.addChild(vertex);
	  }
	}
	
	app.ticker.add((delta) => {
    // rotate the container!
    // use delta to create frame-independent transform
    container.rotation -= 0.01 * delta;
});
}

function myFunction() {
  //let n = ;
  let n = y.getAttribute("value");
  x.setAttribute("value", n); 
  setup(n)
}

var y = document.createElement("INPUT");
  y.setAttribute("type", "text");
  y.setAttribute("value", 10);
  document.body.appendChild(y);
  
var x = document.createElement("INPUT");
  x.setAttribute("type", "text");
  x.setAttribute("value", 10);
  document.body.appendChild(x);


</script>

<div class="row"> </div>

</body>
</html>
